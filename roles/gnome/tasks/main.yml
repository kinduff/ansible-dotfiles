- name: pacman | install gnome and tools
  become: yes
  become_user: root
  community.general.pacman:
    name: "{{ item }}"
    state: present
  with_items:
    - gnome-shell
    - gnome-control-center
    - gnome-keyring
    - gnome-tweak-tool
    - nautilus
    - xdg-user-dirs
    - networkmanager
    - gdm

- name: petermosmans.customize-gnome | gnome config
  include_role:
    name: petermosmans.customize-gnome
  vars:
    gnome_user: kinduff
    gnome_extensions:
      # dash-to-panel@jderose9.github.com
      - id: 1160
        enable: yes
      # arch-update@RaphaelRochet
      - id: 1010
        enable: yes
      # appindicatorsupport@rgcjonas.gmail.com
      - id: 615
        enable: yes
      # argos@pew.worldwidemann.com
      # - url: https://github.com/mwilck/argos/archive/refs/heads/master.zip
      #   name: argos@pew.worldwidemann.com
      #   enable: yes
      # panel-osd@berend.de.schouwer.gmail.com
      - id: 708
        enable: yes
      # shell-volume-mixer@derhofbauer.at
      - id: 858
        enable: yes
      # user-theme@gnome-shell-extensions.gcampax.github.com
      - id: 19
        enable: yes
      # windowIsReady_Remover@nunofarruca@gmail.com
      - id: 1007
        enable: yes
      # wireguard-indicator@atareao.es
      - id: 3612
        enable: yes
      # screenshotlocations.timur@linux.com
      - id: 1179
        enable: yes

- name: systemd | run gdm
  become: yes
  become_user: root
  ansible.builtin.systemd:
    name: gdm
    state: started
    enabled: yes

- name: systemd | run NetworkManager
  become: yes
  become_user: root
  ansible.builtin.systemd:
    name: NetworkManager
    state: started
    enabled: yes
